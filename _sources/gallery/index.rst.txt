:orphan:

.. _examples-index:

.. _gallery:

=======
Gallery
=======

This page contains a gallery showcasing either plotting functionality provided in the `pyhdtoolkit.plotting`
submodules, or plots made from results of convenient functions available in `~pyhdtoolkit`.

.. important::
    The examples shown here are plotted with a customized but simple ``rcParams`` style, simply for
    visibility in these galleries. If one uses this package and sets their own preferences or uses
    their own **mplstyle**, the resulting plots might look significantly different.

    The package provides several plotting styles in the `~pyhdtoolkit.plotting.styles` submodules,
    which are tailored for good rendering in my LaTeX documents and are made for good compatibility
    with the various plotters in `~pyhdtoolkit.plotting`. These styles are described in the 
    :ref:`styles <plotting-styles>` documentation section.

    One can use them in two ways, shown below with as example the ``MEDIUM`` style defined in
    `pyhdtoolkit.plotting.styles.thesis`.

    .. tab-set::

        .. tab-item:: Import and Set the Style

            Update the ``rcParams`` at runtime with:

                .. prompt:: python

                    from matplotlib import pyplot as plt
                    from pyhdtoolkit.plotting.styles.thesis import MEDIUM

                    plt.rcParams.update(MEDIUM)
                    # plotting code here

            Or, for a temporary update of the ``rcParams``:

                .. prompt:: python

                    from matplotlib import pyplot as plt
                    from pyhdtoolkit.plotting.styles.thesis import MEDIUM

                    with plt.rc_context(MEDIUM):
                        # Plotting code here

        .. tab-item:: Install the Styles and Load One

            Do a one-time install of the styles as **.mplstyle** files to use in `~matplotlib`:

              .. prompt:: python

                  from matplotlib import pyplot as plt
                  from pyhdtoolkit.plotting.styles import install_mpl_styles

                  install_mpl_styles()  # only run this once
                  plt.style.use("thesis-medium")  # loaded from created file 'thesis-medium.mplstyle'

    In both cases, re-updating the ``rcParams`` later on will always overwrite these settings.

Click on any image thumbnail to see the corresponding gallery page with full images and access to the source code.



.. raw:: html

    <div class="sphx-glr-thumbnails">

.. thumbnail-parent-div-open

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the plot_machine_survey function to represent your machine geometry in a from-the-top view.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_machine_survey_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_machine_survey.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Machine Survey</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the plot_tune_diagram function to visualise resonance lines up to certain orders.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_tune_diagram_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_tune_diagram.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Tune Diagram</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the plot_two_lhc_ips_crossings function to visualise the crossing schemes setup at the LHC IRs.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_lhc_crossing_schemes_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_lhc_crossing_schemes.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">LHC Crossing Schemes</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the plot_aperture and plot_physical_apertures functions to visualise the available aperture in your machine, with the LHC used for this example.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_aperture_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_aperture.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Accelerator Aperture</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the modules in pyhdtoolkit.plotting.sbs and their various functions to easily visualize results of segment-by-segment runs.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_sbs_plotting_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_sbs_plotting.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Segment-by-Segment Results</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the misalign_lhc_ir_quadrupoles function to assign magnet errors in the Insertion Region magnets of the LHC.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_ir_errors_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_ir_errors.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">LHC IR Errors Assignments</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the track_single_particle function to track a particle with the TRACK command of MAD-X, and visualise its coordinates and spectrum.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_track_spectra_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_track_spectra.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Free Tracking Spectrum</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the plot_latwiss function to represent your machine&#x27;s layout and optics functions in a double-axis plot.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_lattice_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_lattice.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Accelerator Lattice</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the install_ac_dipole_as_kicker and track_single_particle function to track a  particle with the TRACK command of MAD-X, and visualise its coordinates and spectrum.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_acd_tracking_spectra_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_acd_tracking_spectra.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">AC Dipole Driven Tracking Spectrum</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the plot_courant_snyder_phase_space and plot_courant_snyder_phase_space_colored functions to visualise the particles&#x27; normalized coordinates&#x27; phase space for your machine.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_phase_space_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_phase_space.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Phase Space</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the plot_envelope function to visualise the particle beam&#x27;s enveloppe in your machine.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_beam_enveloppe_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_beam_enveloppe.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Beam Enveloppe</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the best_fit_distribution function to determine which statistical distribution best first a given data set, and plot the results together.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_stats_fitting_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_stats_fitting.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Distributions Fitting</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="These examples show how to use the functions in pyhdtoolkit.cpymadtools.lhc._setup managers to easily and quickly set up LHC simulations. These are exported and available at the level of the pyhdtoolkit.cpymadtools.lhc module.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_lhc_setup_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_lhc_setup.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">Quick LHC Setup</div>
    </div>


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="This example shows how to use the apply_lhc_rigidity_waist_shift_knob function to force a waist shift at a given IP and break the symmetry of the \beta-functions in the Interaction Region. This is done by over-powering one triplet knob and under-powering the other, by the same powering delta.">

.. only:: html

  .. image:: /gallery/images/thumb/sphx_glr_demo_lhc_rigid_waist_shift_thumb.svg
    :alt:

  :ref:`sphx_glr_gallery_demo_lhc_rigid_waist_shift.py`

.. raw:: html

      <div class="sphx-glr-thumbnail-title">LHC Rigid Waist Shift</div>
    </div>


.. thumbnail-parent-div-close

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /gallery/demo_machine_survey
   /gallery/demo_tune_diagram
   /gallery/demo_lhc_crossing_schemes
   /gallery/demo_aperture
   /gallery/demo_sbs_plotting
   /gallery/demo_ir_errors
   /gallery/demo_track_spectra
   /gallery/demo_lattice
   /gallery/demo_acd_tracking_spectra
   /gallery/demo_phase_space
   /gallery/demo_beam_enveloppe
   /gallery/demo_stats_fitting
   /gallery/demo_lhc_setup
   /gallery/demo_lhc_rigid_waist_shift


.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-gallery

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download all examples in Python source code: gallery_python.zip </gallery/gallery_python.zip>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download all examples in Jupyter notebooks: gallery_jupyter.zip </gallery/gallery_jupyter.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
